<view class="container">
  <view class="form-section">
    <view class="form-title">{{isEdit ? '编辑商品' : '发布商品'}}</view>
    
    <!-- 商品图片 -->
    <view class="form-group">
      <view class="form-label">商品图片 *</view>
      <view class="image-upload">
        <view class="image-grid">
          <view wx:for="{{formData.images}}" wx:key="*this" class="image-item">
            <image src="{{item}}" mode="aspectFill" />
            <view class="delete-btn" data-index="{{index}}" bindtap="deleteImage">×</view>
          </view>
          <view wx:if="{{formData.images.length < 9}}" 
                class="upload-btn" 
                bindtap="chooseImages">
            <view class="upload-icon"></view>
            <text class="upload-text">添加图片</text>
          </view>
        </view>
        <view class="upload-hint">最多上传9张图片，第一张为封面</view>
      </view>
    </view>

    <!-- 商品名称 -->
    <view class="form-group">
      <view class="form-label">商品名称 *</view>
      <input class="form-input" 
             placeholder="请输入商品名称" 
             value="{{formData.name}}"
             bindinput="onNameInput" 
             maxlength="50" />
    </view>

    <!-- 商品价格 -->
    <view class="form-group">
      <view class="form-label">商品价格 *</view>
      <view class="price-input-wrapper">
        <text class="price-symbol">¥</text>
        <input class="form-input price-input" 
               type="digit"
               placeholder="请输入价格" 
               value="{{formData.price}}"
               bindinput="onPriceInput" />
      </view>
    </view>

    <!-- 出稿天数 -->
    <view class="form-group">
      <view class="form-label">出稿天数 *</view>
      <slider class="delivery-slider"
              min="1"
              max="30"
              value="{{formData.deliveryDays}}"
              show-value
              activeColor="#A8E6CF"
              bindchange="onDeliveryChange" />
      <view class="delivery-hint">预计{{formData.deliveryDays}}天完成</view>
    </view>

    <!-- 商品分类 -->
    <view class="form-group">
      <view class="form-label">商品分类 *</view>
      <picker mode="selector" 
              range="{{categories}}" 
              range-key="name"
              value="{{categoryIndex}}"
              bindchange="onCategoryChange">
        <view class="picker-display">
          {{categoryName}}
        </view>
      </picker>
    </view>

    <!-- 商品标签 -->
    <view class="form-group">
      <view class="form-label">商品标签（最多3个）</view>
      <view class="tag-grid">
        <view wx:for="{{tagOptions}}" wx:key="*this"
              class="tag-item {{formData.tags.includes(item) ? 'active' : ''}}"
              data-tag="{{item}}"
              bindtap="toggleTag">
          {{item}}
        </view>
      </view>
    </view>

    <!-- 提交按钮 -->
    <button class="submit-btn" bindtap="submitForm">
      {{isEdit ? '保存修改' : '立即发布'}}
    </button>
  </view>
</view>
