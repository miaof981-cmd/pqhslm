<view class="service-container">
  <!-- 精简顶栏：头像+信息+快捷操作 -->
  <view class="compact-header">
    <image class="header-avatar" src="{{serviceInfo.avatar}}" mode="aspectFill" />
    <view class="header-info">
      <text class="header-title">客服工作台</text>
      <text class="header-subtitle">编号{{serviceInfo.serviceNumber}} · {{serviceInfo.name}}</text>
    </view>
    <view class="header-actions">
      <view class="mini-action" bindtap="viewStats">统计</view>
      <view class="mini-action" bindtap="viewWithdraw">提现</view>
    </view>
  </view>

  <!-- 精简待办：单行显示 -->
  <view class="compact-stats">
    <view class="compact-stat" data-filter="pending" bindtap="filterOrders">
      <text class="stat-num">{{stats.pending}}</text>
      <text class="stat-text">待处理</text>
    </view>
    <view class="compact-stat" data-filter="processing" bindtap="filterOrders">
      <text class="stat-num">{{stats.processing}}</text>
      <text class="stat-text">进行中</text>
    </view>
    <view class="compact-stat" data-filter="urgent" bindtap="filterOrders">
      <text class="stat-num urgent">{{stats.urgent}}</text>
      <text class="stat-text">紧急</text>
    </view>
  </view>

  <!-- 订单筛选 -->
  <view class="filter-bar">
    <text class="filter-item {{currentFilter === 'all' ? 'active' : ''}}" 
          data-filter="all" 
          bindtap="switchFilter">全部</text>
    <text class="filter-item {{currentFilter === 'processing' ? 'active' : ''}}" 
          data-filter="processing" 
          bindtap="switchFilter">进行中</text>
    <text class="filter-item {{currentFilter === 'completed' ? 'active' : ''}}" 
          data-filter="completed" 
          bindtap="switchFilter">已完成</text>
  </view>

  <!-- 订单列表（紧凑布局） -->
  <view class="order-list">
    <view wx:if="{{filteredOrders.length === 0}}" class="empty-tip">
      暂无订单
    </view>
    
    <view wx:for="{{filteredOrders}}" 
          wx:key="id" 
          class="order-card" 
          bindtap="viewOrderDetail" 
          data-id="{{item.id}}">
      <view class="order-left">
        <image class="order-image" src="{{item.productImage}}" mode="aspectFill" />
      </view>
      <view class="order-main">
        <text class="order-name">{{item.productName}}</text>
        <view class="order-meta">
          <text class="order-buyer">买家：{{item.buyerName}}</text>
          <text class="order-time">{{item.createTime}}</text>
        </view>
        <view class="order-bottom">
          <text class="order-price">¥{{item.price}}</text>
          <text class="order-status {{item.status}}">{{item.statusText}}</text>
        </view>
      </view>
    </view>
  </view>
</view>

