<view class="container">
  <!-- 搜索栏 -->
  <view class="search-bar">
    <view class="search-input" bindtap="onSearch">
      <view class="search-icon"></view>
      <text class="search-placeholder">搜索你想要的画师作品</text>
    </view>
    <view class="filter-btn" bindtap="toggleFilter">
      <view class="filter-icon"></view>
    </view>
  </view>

  <!-- 轮播图 -->
  <swiper class="banner-swiper" autoplay="{{true}}" indicator-dots="{{true}}" circular="{{true}}" indicator-color="rgba(255,255,255,0.5)" indicator-active-color="#A8E6CF">
    <swiper-item wx:for="{{banners}}" wx:key="*this">
      <image class="banner-image" src="{{item}}" mode="aspectFill" />
    </swiper-item>
  </swiper>

  <!-- 公告滚动条 -->
  <view class="notice-ticker" wx:if="{{notices.length > 0}}">
    <view class="notice-icon"></view>
    <scroll-view class="notice-scroll" scroll-x="{{true}}" show-scrollbar="{{false}}">
      <text wx:for="{{notices}}" wx:key="id" 
            class="notice-item" 
            data-id="{{item._id}}" 
            bindtap="onNoticeTap">
        {{item.title}}
      </text>
    </scroll-view>
  </view>

  <!-- 推荐区域 -->
  <view wx:if="{{currentCategory === 'all' && recommendProducts.length > 0}}" class="recommend-section">
    <view class="section-title">
      <text>为你推荐</text>
    </view>
    <view class="product-grid">
      <view wx:for="{{recommendProducts}}" wx:key="_id" 
            class="product-card" 
            data-id="{{item._id}}" 
            bindtap="onProductTap">
        <image class="product-image" src="{{item.images[0]}}" mode="aspectFill" />
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- 筛选面板 -->
  <view class="filter-panel {{showFilter ? 'show' : ''}}">
    <view class="filter-mask" bindtap="toggleFilter"></view>
    <view class="filter-content">
      <view class="filter-header">
        <text class="filter-title">商品分类</text>
        <view class="filter-close" bindtap="toggleFilter">×</view>
      </view>
      <view class="filter-body">
        <view class="filter-group">
          <view wx:for="{{categories}}" wx:key="id" 
                class="filter-item {{item.active ? 'active' : ''}}" 
                data-id="{{item.id}}" 
                bindtap="switchCategory">
            <text class="filter-item-name">{{item.name}}</text>
          </view>
        </view>
      </view>
      <view class="filter-footer">
        <button class="filter-reset" bindtap="resetFilter">重置</button>
        <button class="filter-confirm" bindtap="confirmFilter">确定</button>
      </view>
    </view>
  </view>

  <!-- 全部商品区域 -->
  <view class="product-section">
    <view class="section-title">
      <text>{{currentCategoryName}}</text>
      <text wx:if="{{currentCategory !== 'all'}}" class="clear-filter" bindtap="clearFilter">取消筛选</text>
    </view>
    
    <view wx:if="{{loading}}" class="loading-state">
      <text>加载中...</text>
    </view>
    
    <view wx:elif="{{products.length === 0}}" class="empty-state">
      <text>暂无商品</text>
    </view>
    
    <view wx:else class="product-grid">
      <view wx:for="{{products}}" wx:key="_id" 
            class="product-card" 
            data-id="{{item._id}}" 
            bindtap="onProductTap">
        
        <!-- 商品图片 -->
        <image class="product-image" src="{{item.images[0]}}" mode="aspectFill" />
        
        <!-- 商品信息 -->
        <view class="product-info">
          <view class="product-name">{{item.name}}</view>
          <view class="product-price">¥{{item.price}}</view>
        </view>
      </view>
    </view>
  </view>
</view>