<view class="income-detail-container">
  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>

  <view wx:else>
    <!-- æ”¶å…¥æ€»è§ˆ -->
    <view class="income-summary">
      <!-- æ€»æ”¶å…¥çˆ¶å®¹å™¨ -->
      <view class="total-income-card">
        <view class="total-header">
          <text class="total-label">æ€»æ”¶å…¥</text>
          <text class="total-amount">Â¥{{totalIncome}}</text>
        </view>
        
        <!-- æ”¶å…¥æ˜ç»†å­é¡¹ -->
        <view class="income-breakdown">
          <view class="breakdown-item reward">
            <view class="item-left">
              <view class="item-dot"></view>
              <text class="item-label">æ‰“èµæ”¶å…¥</text>
            </view>
            <text class="item-amount">Â¥{{rewardIncome}}</text>
          </view>
          
          <view class="breakdown-item order">
            <view class="item-left">
              <view class="item-dot"></view>
              <text class="item-label">è®¢å•ç¨¿è´¹</text>
            </view>
            <text class="item-amount">Â¥{{orderIncome}}</text>
          </view>
          
          <view class="breakdown-item service">
            <view class="item-left">
              <view class="item-dot"></view>
              <text class="item-label">å®¢æœåˆ†æˆ</text>
            </view>
            <text class="item-amount">Â¥{{serviceIncome}}</text>
          </view>
          
          <view class="breakdown-item admin">
            <view class="item-left">
              <view class="item-dot"></view>
              <text class="item-label">ç®¡ç†å‘˜åˆ†æˆ</text>
            </view>
            <text class="item-amount">Â¥{{staffIncome}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- æ”¶å…¥æ˜ç»†åˆ—è¡¨ -->
    <view class="detail-list">
      <view class="list-header">
        <text class="title">æ”¶å…¥æ˜ç»†</text>
        <text class="count">å…± {{records.length}} ç¬”</text>
      </view>

      <view wx:if="{{records.length === 0}}" class="empty-state">
        <view class="empty-icon">ğŸ’°</view>
        <text class="empty-text">æš‚æ— æ”¶å…¥è®°å½•</text>
        <text class="empty-hint">å®Œæˆè®¢å•æˆ–æ”¶åˆ°æ‰“èµåä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ</text>
      </view>

      <view wx:else class="record-list">
        <view 
          wx:for="{{records}}" 
          wx:key="id" 
          class="record-item {{item.type}}"
        >
          <view class="record-left">
            <view class="record-type-badge {{item.type}}">
              <text>{{item.typeText}}</text>
            </view>
            <view class="record-info">
              <text class="record-title">{{item.title}}</text>
              <text class="record-time">{{item.time}}</text>
            </view>
          </view>
          <view class="record-right">
            <text class="record-amount">+Â¥{{item.amount}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
