# 📐 标题对齐测试说明

## 🎯 测试目的

验证商品卡片中，不同长度标题是否会导致对齐问题。

---

## 🚀 测试步骤

### 步骤1：创建测试商品

在微信开发者工具控制台，复制粘贴：

```javascript
// 从文件 "测试标题对齐.js" 复制全部内容
```

这会创建6个不同长度标题的测试商品：

1. **短标题** - 1个字（1行）
2. **Q版头像定制** - 6个字（1行）
3. **精美插画作品定制服务包邮** - 12个字（2行）
4. **超长标题测试...** - 超长（2行+省略号）
5. **测试** - 2个字（1行）
6. **高质量精修插画大图** - 9个字（1行）

### 步骤2：刷新首页

刷新页面后，你会看到这6个测试商品在首页展示。

### 步骤3：检查对齐情况

#### 🔍 重点观察以下几点：

```
┌────────┐ ┌────────┐ ┌────────┐
│ 图片1  │ │ 图片2  │ │ 图片3  │
└────────┘ └────────┘ └────────┘
短标题      Q版头像      精美插画作品
            定制        定制服务包邮
¥88 [3天]   ¥108 [3天]  ¥128 [3天]
```

**检查项：**

- [ ] 1. 价格行是否在同一水平线上？
- [ ] 2. 短标题的商品卡片是否比长标题的矮？
- [ ] 3. 整体看起来是否整齐？

---

## 📊 可能出现的情况

### 情况A：完全对齐 ✅

```
所有商品卡片高度一致
价格行在同一水平线
视觉整齐美观
```

**结果：** 无需修复，当前方案完美！

---

### 情况B：轻微不对齐 ⚠️

```
短标题商品稍矮一点
但整体还算可接受
不影响阅读体验
```

**建议：** 可以保持现状，或选择方案A简单修复。

---

### 情况C：明显不对齐 ❌

```
┌────────┐ ┌────────┐ ┌────────┐
│ 图片1  │ │ 图片2  │ │ 图片3  │
└────────┘ └────────┘ └────────┘
短标题      Q版头像      精美插画作品
            定制        定制服务包邮
¥88 [3天]                         ← 这行明显低
            ¥108 [3天]  ¥128 [3天] ← 这两个齐
```

**结果：** 需要修复，请选择以下方案。

---

## 🛠️ 修复方案选择

### 方案A：强制两行高度 ⭐（最简单）

**适用场景：** 对齐问题不严重，想快速修复

**实现方式：** 恢复 `min-height: 72rpx`

**优点：**
- ✅ 最简单，只需改一行代码
- ✅ 所有标题高度统一
- ✅ 保证对齐

**缺点：**
- ❌ 短标题会有空白行
- ❌ 浪费一点空间

**修改代码：**
```css
/* miniprogram/pages/home/index.wxss */
.product-name {
  /* ...其他样式... */
  min-height: 72rpx;  /* 添加这一行 */
}
```

---

### 方案B：统一卡片高度 ⭐⭐（推荐）

**适用场景：** 想要整体美观，卡片整齐划一

**实现方式：** 设置固定卡片高度 + Flexbox布局

**优点：**
- ✅ 卡片整体对齐
- ✅ 视觉最整齐
- ✅ 标题可以自适应

**缺点：**
- ⚠️ 需要调整多个样式
- ⚠️ 需要计算合适的卡片高度

**修改代码：**
```css
/* miniprogram/pages/home/index.wxss */

.product-card {
  /* ...其他样式... */
  display: flex;
  flex-direction: column;
  height: 280rpx;  /* 固定卡片高度 */
}

.product-image-wrapper {
  /* ...其他样式... */
  flex-shrink: 0;  /* 防止图片被压缩 */
}

.product-info {
  padding: 12rpx;
  flex: 1;  /* 占据剩余空间 */
  display: flex;
  flex-direction: column;
  justify-content: space-between;  /* 价格在底部 */
}

.product-name {
  /* ...其他样式... */
  /* 不需要 min-height */
}

.product-meta {
  /* ...其他样式... */
  margin-top: auto;  /* 始终在底部 */
}
```

---

### 方案C：Grid 自动对齐 ⭐⭐⭐（最佳）

**适用场景：** 追求完美，想要最灵活的布局

**实现方式：** CSS Grid + grid-auto-rows

**优点：**
- ✅ 自动对齐，最智能
- ✅ 同行卡片高度自动统一
- ✅ 不同行可以不同高度
- ✅ 最灵活

**缺点：**
- ⚠️ 需要修改父容器
- ⚠️ 改动稍多

**修改代码：**
```css
/* miniprogram/pages/home/index.wxss */

.product-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12rpx;
  padding: 0 12rpx;
  grid-auto-rows: 1fr;  /* 关键：同行高度相同 */
}

.product-card {
  /* ...其他样式... */
  display: flex;
  flex-direction: column;
  height: 100%;  /* 填充网格单元格 */
}

.product-info {
  padding: 12rpx;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.product-meta {
  margin-top: auto;
}
```

---

## 🎨 视觉效果对比

### 当前方案（自适应高度）
```
┌────────┐ ┌────────┐ ┌────────┐
│        │ │        │ │        │
└────────┘ └────────┘ └────────┘
短         较长标题    超长标题需要
           名称       换行显示内容
¥88       ¥108       ¥128
   ↑         ↑          ↑
  可能不对齐（取决于标题长度）
```

### 方案A（强制两行）
```
┌────────┐ ┌────────┐ ┌────────┐
│        │ │        │ │        │
└────────┘ └────────┘ └────────┘
短         较长标题    超长标题需要
(空白行)    名称       换行显示内容
¥88       ¥108       ¥128
   ↓         ↓          ↓
       完全对齐
```

### 方案B/C（统一卡片高度）
```
┌────────┐ ┌────────┐ ┌────────┐
│        │ │        │ │        │
│        │ │        │ │        │
│        │ │        │ │        │
└────────┘ └────────┘ └────────┘
短         较长标题    超长标题需要
           名称       换行显示内容
¥88       ¥108       ¥128
   ↓         ↓          ↓
       完全对齐
```

---

## 💡 决策流程图

```
测试后发现问题？
    │
    ├─ No  → 无需修复，保持现状 ✅
    │
    └─ Yes → 问题严重程度？
            │
            ├─ 轻微 → 方案A（最简单）
            │         只改一行代码
            │
            ├─ 中等 → 方案B（推荐）
            │         统一卡片高度
            │
            └─ 严重 → 方案C（最佳）
                      Grid 自动对齐
```

---

## 🗑️ 清理测试数据

测试完成后，删除测试商品：

```javascript
(function() {
  let products = wx.getStorageSync('mock_products') || []
  products = products.filter(p => !p.id.includes('test_title_'))
  wx.setStorageSync('mock_products', products)
  console.log('✅ 已删除标题测试商品')
})()
```

---

## ⚡ 快速测试命令

在控制台依次执行：

```javascript
// 1. 创建测试商品
// (复制 "测试标题对齐.js" 内容)

// 2. 刷新首页观察

// 3. 如果需要修复，选择方案并修改代码

// 4. 清理测试数据
// (复制上面的清理代码)
```

---

## 📝 测试报告模板

```
测试日期：____年__月__日
测试人员：________

✅ 测试结果：
□ 完全对齐（无需修复）
□ 轻微不对齐（可接受）
□ 明显不对齐（需修复）

✅ 选择方案：
□ 方案A：强制两行高度
□ 方案B：统一卡片高度
□ 方案C：Grid 自动对齐
□ 保持现状

✅ 修复后效果：
□ 完美对齐
□ 基本满意
□ 需要调整
```

---

**祝测试顺利！🎉**

