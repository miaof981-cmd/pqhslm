# äº‘å‡½æ•°ä¸Šä¼ æŒ‡å—

## ğŸ“¦ å·²åˆ›å»ºçš„äº‘å‡½æ•°ï¼ˆ7ä¸ªï¼‰

1. **userManager** - ç”¨æˆ·ç®¡ç†
2. **productManager** - å•†å“ç®¡ç†
3. **orderManager** - è®¢å•ç®¡ç†
4. **artistManager** - ç”»å¸ˆç”³è¯·ç®¡ç†
5. **financeManager** - è´¢åŠ¡ç®¡ç†
6. **contentManager** - å†…å®¹ç®¡ç†ï¼ˆè½®æ’­å›¾ã€å…¬å‘Šã€å®¢æœäºŒç»´ç ã€ä¹°å®¶ç§€ï¼‰
7. **statsManager** - ç»Ÿè®¡æ•°æ®

---

## ğŸš€ ä¸Šä¼ æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šé€ä¸ªä¸Šä¼ ï¼ˆæ¨èï¼‰

åœ¨å¼€å‘è€…å·¥å…·å·¦ä¾§ç›®å½•æ ‘ï¼š

1. å±•å¼€ `cloudfunctions` æ–‡ä»¶å¤¹
2. å³é”®ç‚¹å‡» `userManager` â†’ **"ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–"**
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ
4. é‡å¤æ­¥éª¤2-3ï¼Œä¾æ¬¡ä¸Šä¼ å…¶ä»–4ä¸ªäº‘å‡½æ•°

### æ–¹æ³•äºŒï¼šæ‰¹é‡ä¸Šä¼ 

1. å³é”®ç‚¹å‡» `cloudfunctions` æ–‡ä»¶å¤¹
2. é€‰æ‹© **"åŒæ­¥äº‘å‡½æ•°åˆ—è¡¨"**
3. é€‰æ‹© **"ä¸Šä¼ æ‰€æœ‰äº‘å‡½æ•°"**

---

## âœ… éªŒè¯äº‘å‡½æ•°

ä¸Šä¼ å®Œæˆåï¼Œåœ¨äº‘å¼€å‘æ§åˆ¶å° â†’ äº‘å‡½æ•° â†’ åº”è¯¥çœ‹åˆ°7ä¸ªäº‘å‡½æ•°ï¼š

- â˜ï¸ userManager
- â˜ï¸ productManager
- â˜ï¸ orderManager
- â˜ï¸ artistManager
- â˜ï¸ financeManager
- â˜ï¸ contentManager
- â˜ï¸ statsManager

---

## ğŸ§ª æµ‹è¯•äº‘å‡½æ•°

### æµ‹è¯•ç”¨æˆ·ç™»å½•

åœ¨å¼€å‘è€…å·¥å…·æ§åˆ¶å°æ‰§è¡Œï¼š

\`\`\`javascript
wx.cloud.callFunction({
  name: 'userManager',
  data: {
    action: 'login',
    nickName: 'æµ‹è¯•ç”¨æˆ·',
    avatarUrl: 'https://example.com/avatar.png'
  },
  success: res => {
    console.log('ç™»å½•æˆåŠŸ:', res.result)
  },
  fail: err => {
    console.error('ç™»å½•å¤±è´¥:', err)
  }
})
\`\`\`

### æµ‹è¯•è·å–å•†å“åˆ—è¡¨

\`\`\`javascript
wx.cloud.callFunction({
  name: 'productManager',
  data: {
    action: 'getList',
    page: 1,
    pageSize: 10
  },
  success: res => {
    console.log('å•†å“åˆ—è¡¨:', res.result)
  }
})
\`\`\`

---

## ğŸ“ äº‘å‡½æ•°åŠŸèƒ½è¯´æ˜

### 1. userManagerï¼ˆç”¨æˆ·ç®¡ç†ï¼‰

| æ“ä½œ | action | å‚æ•° | è¯´æ˜ |
|------|--------|------|------|
| ç™»å½•/æ³¨å†Œ | login | nickName, avatarUrl | è‡ªåŠ¨åˆ›å»ºç”¨æˆ· |
| è·å–ä¿¡æ¯ | getUserInfo | userIdï¼ˆå¯é€‰ï¼‰ | è·å–ç”¨æˆ·ä¿¡æ¯ |
| æ›´æ–°ä¿¡æ¯ | updateUserInfo | nickName, avatarUrl, phone | æ›´æ–°ç”¨æˆ·èµ„æ–™ |
| æ£€æŸ¥ç®¡ç†å‘˜ | checkAdmin | æ—  | æ£€æŸ¥ç®¡ç†å‘˜æƒé™ |

### 2. productManagerï¼ˆå•†å“ç®¡ç†ï¼‰

| æ“ä½œ | action | å‚æ•° | è¯´æ˜ |
|------|--------|------|------|
| è·å–åˆ—è¡¨ | getList | page, pageSize, category... | æ”¯æŒç­›é€‰ã€åˆ†é¡µ |
| è·å–è¯¦æƒ… | getDetail | productId | è·å–å•†å“è¯¦æƒ… |
| æœç´¢å•†å“ | search | keyword, page | æŒ‰åç§°/ç”»å¸ˆæœç´¢ |
| è·å–åˆ†ç±» | getCategories | æ—  | è·å–æ‰€æœ‰åˆ†ç±» |
| åˆ›å»ºå•†å“ | create | productName, category... | ä»…ç”»å¸ˆ/ç®¡ç†å‘˜ |
| æ›´æ–°å•†å“ | update | productId, ... | ä»…æ‰€å±ç”»å¸ˆ/ç®¡ç†å‘˜ |
| åˆ é™¤å•†å“ | delete | productId | ä»…ç®¡ç†å‘˜ |

### 3. orderManagerï¼ˆè®¢å•ç®¡ç†ï¼‰

| æ“ä½œ | action | å‚æ•° | è¯´æ˜ |
|------|--------|------|------|
| åˆ›å»ºè®¢å• | create | productId, quantity... | è‡ªåŠ¨åˆ†é…å®¢æœ |
| è·å–åˆ—è¡¨ | getList | page, status, role | å¤šè§’è‰²æƒé™ |
| è·å–è¯¦æƒ… | getDetail | orderId | è®¢å•è¯¦æƒ… |
| æ›´æ–°çŠ¶æ€ | updateStatus | orderId, status | æ›´æ–°è®¢å•çŠ¶æ€ |
| æ›´æ–°ä¿¡æ¯ | updateInfo | orderId, ... | æ›´æ–°è®¢å•ä¿¡æ¯ |

### 4. artistManagerï¼ˆç”»å¸ˆç”³è¯·ï¼‰

| æ“ä½œ | action | å‚æ•° | è¯´æ˜ |
|------|--------|------|------|
| æäº¤ç”³è¯· | apply | artistName, portfolio... | æäº¤ç”»å¸ˆç”³è¯· |
| è·å–çŠ¶æ€ | getStatus | æ—  | æŸ¥çœ‹ç”³è¯·çŠ¶æ€ |
| æ‰¹å‡†ç”³è¯· | approve | userId | ä»…ç®¡ç†å‘˜ |
| æ‹’ç»ç”³è¯· | reject | userId, reason | ä»…ç®¡ç†å‘˜ |
| è·å–åˆ—è¡¨ | getList | page, status | ä»…ç®¡ç†å‘˜ |

### 5. financeManagerï¼ˆè´¢åŠ¡ç®¡ç†ï¼‰

| æ“ä½œ | action | å‚æ•° | è¯´æ˜ |
|------|--------|------|------|
| è·å–æ”¶å…¥ | getIncome | userIdï¼ˆå¯é€‰ï¼‰, page | æ”¶å…¥æ˜ç»† |
| åˆ›å»ºæç° | createWithdraw | amount, accountInfo | æäº¤æç°ç”³è¯· |
| è·å–æç°åˆ—è¡¨ | getWithdrawList | page, status | æç°è®°å½• |
| æ‰¹å‡†æç° | approveWithdraw | withdrawId | ä»…ç®¡ç†å‘˜ |
| æ‹’ç»æç° | rejectWithdraw | withdrawId, reason | ä»…ç®¡ç†å‘˜ |
| è·å–æ‰“èµåˆ—è¡¨ | getRewardList | page | æ‰“èµè®°å½• |

### 6. contentManagerï¼ˆå†…å®¹ç®¡ç†ï¼‰

| æ“ä½œ | module | action | å‚æ•° | è¯´æ˜ |
|------|--------|--------|------|------|
| è·å–è½®æ’­å›¾ | banner | getList | æ—  | è·å–è½®æ’­å›¾åˆ—è¡¨ |
| åˆ›å»ºè½®æ’­å›¾ | banner | create | image, link, title... | ä»…ç®¡ç†å‘˜ |
| è·å–å…¬å‘Š | notice | getList | æ—  | è·å–å…¬å‘Šåˆ—è¡¨ |
| åˆ›å»ºå…¬å‘Š | notice | create | title, content... | ä»…ç®¡ç†å‘˜ |
| è·å–å®¢æœäºŒç»´ç  | serviceQRCode | getList | æ—  | è·å–æ‰€æœ‰äºŒç»´ç  |
| éšæœºè·å–äºŒç»´ç  | serviceQRCode | getRandom | æ—  | éšæœºè¿”å›ä¸€ä¸ª |
| è·å–ä¹°å®¶ç§€ | buyerShow | getList | page | ä¹°å®¶ç§€åˆ—è¡¨ |
| å‘å¸ƒä¹°å®¶ç§€ | buyerShow | create | orderId, images... | ç”¨æˆ·å‘å¸ƒ |
| è·å–åˆ†ç±» | category | getList | æ—  | å•†å“åˆ†ç±»åˆ—è¡¨ |

### 7. statsManagerï¼ˆç»Ÿè®¡æ•°æ®ï¼‰

| æ“ä½œ | action | å‚æ•° | è¯´æ˜ |
|------|--------|------|------|
| ä»ªè¡¨ç›˜æ•°æ® | dashboard | æ—  | ä»…ç®¡ç†å‘˜ |
| ç”»å¸ˆä¸šç»© | artistPerformance | artistId, startDate, endDate | ç”»å¸ˆ/ç®¡ç†å‘˜ |
| è®¢å•ç»Ÿè®¡ | orderStats | startDate, endDate, groupBy | ä»…ç®¡ç†å‘˜ |
| ç”¨æˆ·ç»Ÿè®¡ | userStats | æ—  | ä»…ç®¡ç†å‘˜ |

---

## â­ï¸ ä¸‹ä¸€æ­¥

ä¸Šä¼ å®Œæˆåï¼Œå¼€å§‹å‰ç«¯å¯¹æ¥å·¥ä½œã€‚

å›å¤ï¼š"äº‘å‡½æ•°ä¸Šä¼ å®Œæˆ"

